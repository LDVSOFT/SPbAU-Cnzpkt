\chapter{Введение}

\section{Множества}

Не любая совокупность элементов --- множество. Про каждый объект можно сказать, принадлежит ли он множеству ($x \in A$) или нет ($x \lnot\in A$).

\begin{Def}
Множество $A$ - подмножество $B$, если все элементы $A$ содержатся и в $B$. 
$$ A \subset B \LraDef \forall x \in A\; x \in B $$
\end{Def}
\begin{Def}
Множества называются равными, если они содержатся друг в друге.
$$ A = B \LraDef A \subset B \land B \subset A $$
\end{Def}
\begin{Def}
Пустое множество --- это множество без элементов.
$$ \forall x\; x \notin \varnothing $$
\end{Def}
\begin{Def}
$2^A$ --- множество всех подмножеств $A$.
$$ 2^A \eqDef \left\{B \mid B \subset A \right\} $$
\end{Def}

\begin{itemize}
\item $\N$ --- множество натуральных чисел. 
\item $\Z$ --- множество целых чисел.
\item $\Q$ --- множество рациональных чисел.
\item $\R$ --- множества вещественных чисел.
\item $\C$ --- множества комплексных чисел.
\end{itemize}

Задание множеств:
\begin{itemize} 
\item $\left\{a,b,c\right\}$
\item $\left\{a_1, a_2, \ldots, a_n\right\}$
\item $\left\{a_1, a_2, \ldots\right\}$
\item $\left\{x \in A \mid \Phi(x)\right\}, \Phi(x) - \text{условие}$.
\end{itemize} 
Например, $\left\{p \in \N : p \text{ имеет ровно 2 натуральных делителя}\right\}$.

Бывают некорректно заданные ''множества''. Например, множество художественных произведений на русском языке --- плохо заданное множество. Рассмотрим 
$\Phi(n)$ --- истина, если n нельзя записать в не более чем тридцать слов русского языка. Тогда
$\left\{n \in \N \mid \Phi(n)\right\}$ - не множество. Если бы это было множеством, то в нём есть наименьший элемент, 
который описывается как ''Наименьший элемент множества...''.

\begin{Def}
Пересечение двух множеств --- множество, состоящие из всех элементов, находящихся одновременно в обоих множествах.
$$ A \cap B \eqDef \left\{x \in A \mid x \in B \right\} $$
\end{Def}
\begin{Def}
Объединение двух множеств --- множество, состоящее из элементов обоих множеств.
$$ A \cup B \eqDef \left\{x \mid x \in A \lor x \in B \right\} $$
\end{Def}
\begin{Def}
Разность множеств --- это множество тех элементов, которые лежат в первом, но не во втором.
$$ A \setminus B \eqDef \left\{ x \in A \mid x \notin B \right\}$$
\end{Def}
\begin{Def}
Симметрическя разность --- объединение разностей.
$$ A \btu B \eqDef \left(A \setminus B\right) \cup \left(B \setminus A\right) $$
\end{Def}

Объединение и пересечение множно записать для многих множеств.
$$ \bigcup_{i \in I} A_i = \left\{x \mid x \in A_i, i \in I\right\}; 
\bigcap_{i \in I} A_i = \left\{x \mid \forall i \in I\; x \in A_i \right\} $$

Свойства операций со множествами:
\begin{enumerate}
\item Ассоциативность
$$ A \cap B = B \cap A; A \cup B = B \cup A $$
\item Коммутативность
$$ \left(A \cap B \right) \cap C = A \cap \left(B \cap C \right); \left(A \cup B \right) \cup C = A \cup \left(B \cup C \right) $$
\item Рефлексивность
$$ A \cap A = A; A \cup A = A $$
\item Дистрибутивность
$$ A \cap \left(B \cup C \right) = \left(A \cap B\right) \cup \left(A \cap C \right) $$
$$ A \cup \left(B \cap C \right) = \left(A \cup B\right) \cap \left(A \cup C \right) $$
\end{enumerate}

\begin{theorem}{Правила де Моргана}
$ A, B_\alpha, \alpha \in I $.
Тогда 
$$ A \setminus \bigcup_{\alpha \in I} B_\alpha = \bigcap_{\alpha \in I} \left(A \setminus B_\alpha\right) ; 
A \setminus \bigcap_{\alpha \in I} B_\alpha = \bigcup_{\alpha \in I} \left(A \setminus B_\alpha\right) $$
\end{theorem} 
\begin{proof}
\begin{multline*}
x \in A \setminus \bigcup_{\alpha \in I} B_{\alpha} \Lra \left\{\begin{aligned}x &\in A \\ x &\notin \bigcup_{\alpha \in I} B_{\alpha}\end{aligned}\right. \Lra 
\left\{\begin{aligned} x &\in A \\ \forall \alpha \in I\; x &\notin B_\alpha \end{aligned}\right. \Lra \\ \Lra
\forall \alpha \in I \left\{\begin{aligned} x &\in A \\ x &\notin B_\alpha \end{aligned}\right.  
\Lra x \in \bigcap_{\alpha \in I} \left(A \setminus B_\alpha\right) 
\end{multline*}
\begin{multline*}
x \in A \setminus \bigcap_{\alpha \in I} B_{\alpha} \Lra \left\{\begin{aligned}x &\in A \\ x &\notin \bigcap_{\alpha \in I} B_{\alpha}\end{aligned}\right. \Lra 
\left\{\begin{aligned} x &\in A \\ \lnot \forall \alpha \in I\; x &\in B_\alpha \end{aligned}\right. \Lra \\ \Lra
\forall \alpha \in I \left\{\begin{aligned} x &\in A \\ x &\notin B_\alpha \end{aligned}\right.  
\Lra x \in \bigcap_{\alpha \in I} \left(A \setminus B_\alpha\right) 
\end{multline*}
\end{proof}

\begin{theorem}{Обобщение дистрибутивности}
$ A, B_\alpha, \alpha \in I $.
Тогда 
$$ A \cap \bigcup_{\alpha \in I} B_\alpha = \bigcup_{\alpha \in I} (A \cap B_\alpha) $$
$$ A \cup \bigcap_{\alpha \in I} B_\alpha = \bigcap_{\alpha \in I} (A \cup B_\alpha) $$
\end{theorem}
\begin{proof}
\begin{multline*}
x \in A \cap \bigcup_{\alpha \in I} B_{\alpha} \Lra \left\{\begin{aligned}x &\in A \\ x &\in \bigcup_{\alpha \in I} B_{\alpha}\end{aligned}\right. \Lra 
\left\{\begin{aligned} x &\in A \\ \exists \alpha \in I\colon x &\in B_\alpha \end{aligned}\right. \Lra \\ \Lra
\exists \alpha \in I\colon \left\{\begin{aligned} x &\in A \\ x &\in B_\alpha \end{aligned}\right.  
\Lra x \in \bigcup_{\alpha \in I} \left(A \cap B_\alpha\right) 
\end{multline*}
\begin{multline*}
x \in A \cup \bigcap_{\alpha \in I} B_{\alpha} \Lra \left[\begin{aligned}x &\in A \\ x &\in \bigcap_{\alpha \in I} B_{\alpha}\end{aligned}\right. \Lra 
\left[\begin{aligned} x &\in A \\ \forall \alpha \in I\; x &\in B_\alpha \end{aligned}\right. \Lra \\ \Lra
\forall \alpha \in I\; \left[\begin{aligned} x &\in A \\ x &\in B_\alpha \end{aligned}\right.  
\Lra x \in \bigcap_{\alpha \in I} \left(A \cup B_\alpha\right) 
\end{multline*}
\end{proof}

\begin{Def}
Упорядоченная пара $\langle a, b \rangle$ или $(a, b)$ --- объект
$$ (a_1; b_1) = (a_2; b_2) \LraDef a_1 = b_1 \land a_2 = b_2 $$
\end{Def}
\begin{Def}
Упорядоченная $n$-ка, или кортеж --- объект
$$ (a_1, a_2, \ldots, a_n) = (b_1, b_2, \ldots, a_n) \LraDef \forall i=1..n\; a_i = b_i $$
\end{Def}

\section{Бинарные отношения}

\begin{Def}
Декартого произведение множеств --- множество кортежей, состоящих из элементов соответствующих множеств.
$$ \left(a_1, a_2, \ldots, a_n\right) \in A_1 \times A_2 \times \ldots \times A_n \LraDef \forall i=1..n\; a_i \in A_i $$
\end{Def}
\begin{Def}
Отношение на множествах $A$ и $B$ --- произвольное подмножество их декартова произведения.
$$ a \mathop{R} b \LraDef (a, b) \in R $$
\end{Def}
\begin{Def}
Область определения отношения 
$$ \beta_R = dom_R = \{a \in A : \exists b \in B \quad (a,b) \in R\} $$
\end{Def}
\begin{Def}
Обсласть назначения отношения 
$$ \rho_R = ran_R =\{b \in B: \exists a \in A \quad (a, b) \in R\}$$
\end{Def}
\begin{Def}
Обратное отношение
$$R^{-1} \colon \beta_{R^{-1}} = \rho_R; \rho_{R^{-1}} = \beta_R; b \mathop{R^{-1}} a \LraDef b \mathop{R} a$$
\end{Def}
\begin{Def}
Композиция отношений
$$ R_1\colon A \ra B; R_2\colon B \ra C $$
$$ R_1 \circ R_2 = \{(a, c) \mid a \mathop{R_1} b \land b \mathop{R_2} c\} $$
Про значок --- его использовать не будем
\end{Def}

Пример композиции: $<\colon \N \ra \N$. $< \circ < = \{(a, b) \mid b - a \geqslant 2\}$.

\begin{Def}
Функция (отображение) --- такое отношение, что первый ключ уникален.
$$f\colon A \ra B: a_1 \mathop{f} b \land a_2 \mathop{f} b \Ra a_1 = a_2$$
$$ a \mathop{f} b \LraDef f(a) = b $$
$$ A = \beta_f$$
\end{Def}

\begin{Def}Свойтва отображеий:
\begin{enumerate}
\item Рефлексивность $a \mathop{R} a$
\item Cимметричность $a \mathop{R} a \Lra b \mathop{R} a$
\item Транзитивность $a \mathop{R} b \land b \mathop{R} c \Ra a \mathop{R} c$
\item Иррефлексивность $\lnot a \mathop{R} a$
\item Антисимметричность $a \mathop{R} b \land b \mathop a \Ra a = b$
\end{enumerate}
\end{Def}

Примеры:
\begin{itemize} 
\item $=$: 1, 2, 3, 5
\item $\emod{5}$: 1, 2, 3
\item $\leqslant$: 1, 3, 5
\item $<$: 3, 4, 5
\item $\subset$: 1, 3, 5
\end{itemize}

\section{Вещественные числа}
\begin{Def}
Множество вещественных чисел можно определить как множество, на котором есть операции $+$ и $\times$, причём:
\begin{enumerate}
\item Коммутативность $\forall a, b\; a + b = b + a; a \times b = b \times a$
\item Ассоциативность $\forall a, b, c\; a + (b + c) = (a + b) + c; a \times (b \times c) = (a \times b) \times c$
\item Нейтральный элемент
$\exists o\colon \forall a\; a + o = a; \exists e\colon \forall a\;a \times e = a; o \ne e$
\item Обратный элемент
$\forall a\; \exists{-a}\colon a + -a = o; \forall a \ne o\; \exists a^{-1}: a \times a^{-1} = a$
\item Дистрибутивность $\forall a, b, c\; a \times (b + c) = (a \times b) + (a \times c)$
\end{enumerate}
Кроме того, есть отношения $\leqslant$ (и аналогично $<$, также определены обратные):
\begin{enumerate}
\item Рефлексивно
\item Антисимметрично
\item Транзитивно
\item Любые два элемента сравнимы
\item $\forall a, b, c\; a \leqslant b => a + c \leqslant b + c$
\item $\forall a, b\; a > 0 \land b \geqslant 0 \Ra ab \geqslant 0$
\end{enumerate}
\end{Def}

Аксиома полноты: $A, B \subset \R; A \cup B \ne \varnothing$,
$$ \forall a \in A\; \forall b \in B\; a \leqslant b $$
Тогда $$\exists c \in \R\colon \forall a \in A\; a \leqslant c \land \forall b \in B\; c \leqslant b$$

\begin{Rem}
На $\Q$ аксиома не выполняется: 
$$A = \left\{r \in \Q \mid r^2 < 2\right\}; B = \left\{r \in \Q_{+}\mid r ^ 2 > 2\right\}; c = \sqrt{2} \notin \Q$$
\end{Rem}
\begin{theorem}{Принцип Архимеда}
Пусть $ x, y \in \R, y > 0 $.
Тогда $$ \exists n \in \N: x < ny$$
\end{theorem}
\begin{proof}
$$ A \lrh \left\{u \in \R \mid \exists n \in \N: u < ny\right\}; y \in A$$
Пусть $A \ne \R$. Тогда $B \lrh \R - A \ne \varnothing$.
Рассмотрим $a \in A; b \in B$.
$$b < a \Ra b < a < ny \Ra b \in A \text{ --- противоречие}$$
Таким образом $$\forall a \in A\; \forall b \in B\; a \leqslant b$$
Тогда $$\exists c \in \R\colon \forall a \in A\; a \leqslant c \land \forall b \in B\; c \leqslant b$$
$$c \in A \Ra c + y \in A \Ra c > c + y \Ra y < 0 \text{ --- противоречие}$$
Тогда $c \in B$.
$$c - y \notin B \Ra c - y \in A \Ra c - y \geqslant c \in A$$
Но тогда $$c - y < c \Ra c - y \in B \Ra c - y \geqslant c \Ra y <= 0$$
Таким образом $$A = \R$$
\end{proof}

\begin{conseq}
$\forall 123 \epsilon > 0 \exists n \in \N\colon \frac{1}n < \epsilon$
\end{conseq}
\begin{proof}
Рассмотрим $x=1, y=\epsilon$
\end{proof}

\begin{conseq}
$x, y \in \R, x < y. \exists r \in \Q: x < r < y$
\end{conseq}
\begin{proof} 
$$y - x > 0 => \exists n \in \N: \frac1n < y - x$$
Покажем, что $ \exists m \in \Z\colon m \leqslant nx < m + 1$. Вообще говоря, $m \eqDef \lfloor m \rfloor$.
$$M \lrh \{m \mid m <= nx\}$$
$$x \geqslant 0 \Ra M \neq \varnothing$$
$$x < 0 \Ra \exists \tilde m \in \N\colon \tilde m-1 > n(-x) \Ra -\tilde m \in M \Ra M \neq \varnothing$$
Рассмторим $ y = 1; x = nx; y > 0$. По принципу Архимеда 
$$ \exists k \in \N\colon k > nx $$
Тогда $$\forall m \in M\colon m < k \Ra \exists m = \max M\colon m \leqslant nx < m + 1$$
$$m \leqslant nx < m + 1 \Ra \frac{m}n \leqslant x \leqslant \frac{m + 1}n$$
Осталось проверить $\frac{m+1}n < y$.
$$\frac{m}n \leqslant x \land \frac1n < y - x \Ra \frac{m+1}n < y$$
\end{proof}

\begin{conseq}
$x, y \in \R; x < y$. $\exists z \in \R \setminus \Q: x < z < y$.
\end{conseq}
\begin{proof}
$$\sqrt{2} \in \R - \Q$$.
$$x < y \Ra x - \sqrt{2} < y - \sqrt{2} \Ra \exists r \in \Q: x - \sqrt{2} < r < y - \sqrt{2} \Ra $$
$$\Ra \exists z = r + \sqrt{2}: z \in \R - \Q: x < z < y$$
\end{proof}

\section{Верхняя и нижняя граница}

\begin{Def}
$A \subset \R$
$x \in R $ --- верхняя граница $A \LraDef \forall a \in A: a <= x$.
\end{Def}
$x \in R $ --- \text{нижняя граница} $A \LraDef \forall a \in A: a >= x$.
$A$ ограничено сверху $\LraDef \exists x \in R: x --- \text{верхняя граница} A$.
$A$ ограничено снизу $\LraDef \exists x \in R: x --- \text{нижняя граница} A$.
$A$ ограничено, если $A$ ограничено сверху и снизу.
REM. Границ, если они есть, много.
Def. $A \subset \R, A$ ограничено сверху.
$x$ - супремум $A$, если $x$ --- наименьшая из верхних границ.
Def. $A \subset \R, A$ ограничено снизу.
$x$ - инфиму $A$, если $x$ --- наибольшая из нижних границ.

Пример.
$A = \{1, \frac12, \frac13, \frac14, \ldots\}$.
$\sup A = 1, \inf A = 0$

Утверждение. $\N$ не ограничено сверху.
Док-во: $x$ --- верхняя граница $\Ra \exists n \in \N: n > x$.

Теорема. $A \neq \emptyset$.
1. $A$ ограничено сверху $\Ra \exists x = \sup A$.
2. $A$ ограничено снизу $\Ra \exists x = \inf A$.

Эта теорема равносильна аксиоме полноты.

Док-во.
1. $Y$ --- множество всех верхних границ $A$.
Тогда $\forall a \in A \forall B \in B a <= b \Ra \exists c \in \R: \forall a \in A: a <= c \land \forall b \in B c <= b \Ra \exists \sup A = c$.
2. Рассмотрим $ B = \{-a : a \in A\}$. Тогда $\inf A = -\sup B$.

REM. Без аксиомы полноты это неверно.
Рассмотрим $ A = \{x \in \Q : x^2 < 2\}, U = \Q.$

Упражнение. Понять, что это так.

Теорема.
1. A - огр. сверху. Тогда $b = \sup A \Lra (\forall a \in A a <= b \land \forall \epsilon > 0 \exists a \in A: a > b - \epsilon)$.
1. A - огр. снизу.  Тогда $c = \inf A \Lra (\forall a \in A a >= c \land \forall \epsilon > 0 \exists a \in A: a < c + \epsilon)$.
Док-во. 
$b = sup A \Lra (b --- \text{верхняя граница} A \land \forall \epsilon > 0 b - \epsilon --- \text{не верхняя граница}) \Lra 
(\forall a \in A a <= b \land \forall \epsilon > 0 \exists a \in A: a > b - eps)$.

Теорема о вложенных отрезках. Вместе с Архимедом выводят полноту.
$\left\{\left[a_n, b_n\right]\right\}_{i=1}^n: \forall i \in \N \left(a_i <= a_{i + 1} \land b_i >= b_{i + 1}\right) \land \forall i, j \in \N a_i < b_j$. 
Тогда $$\bigcap_{i=1}^\infty [a_i, b_i] \neq \emptyset$$
Док-во: $A = \{a_i\}, B = \{b_i\}$. Тогда по аксиоме полноты $$\exists c \in \R: \forall i \in \N c \in \left[a_i, b_i\right] \Ra $$
$$\Ra c \in \bigcap_{i=1}^\infty [a_i, b_i] \neq \emptyset$$

REM. 1. Существенна замкнутость отрезков.
$$\bigcap_{n=1}^\infty \left(0, \frac1n\right] = \emptyset$$
2. Не лучи.
$$\bigcap_{n=1}^\infty \left[n, +\inf\right) = \emptyset $$
3. $\R$. Рассмотрим приблежения $\sqrt{2}$.
